<!DOCTYPE html>
<html>
<head>
  <title>Generador de código QR PDF417</title>
</head>
<body>

<!-- Agrega un input para ingresar los datos -->
<input type="text" id="datos" placeholder="Ingrese los datos para el código QR">
<button onclick="generarCodigoQR()">Generar código QR</button>
<br>
<!-- Aquí se mostrará la imagen del código QR -->
<img id="codigoQR" alt="Código QR generado">

<script src="https://rawcdn.githack.com/ihabunek/pdf417-generator/v1.0.2/pdf417.js"></script>
<script>
function generarCodigoQR() {
  // Obtiene los datos ingresados por el usuario
  const datos = document.getElementById('datos').value;

  // Verifica si se ingresaron datos
  if (datos === '') {
    alert('Por favor ingrese los datos para generar el código QR');
    return;
  }

  // Genera el código QR PDF417
  const codigoQR = PDF417.getBarcodeArray(datos);
  const canvas = PDF417.renderBarcodeToCanvas(codigoQR, { scaleX: 2, scaleY: 2 });

  // Obtiene la URL de la imagen generada
  const imagenCodigoQR = canvas.toDataURL('image/png');

  // Muestra la imagen del código QR en la página
  const imagenElement = document.getElementById('codigoQR');
  imagenElement.src = imagenCodigoQR;
}
</script>

</body>
</html>
